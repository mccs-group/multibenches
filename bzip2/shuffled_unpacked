ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
ZCC = $(AARCH_GCC) 

QEMU = qemu-aarch64
QEMU_ARG = -L /usr/aarch64-linux-gnu 

DATASET = small.bz2

CCC_OPTS = 
SHUFFLE_OPTS = -fplugin=../../plugin.so -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list1.txt -fplugin-arg-plugin-pass_file=../../list3.txt

OUT_DIR = datasets

.PHONY: test_lists

test_lists: shuffled.out $(addprefix ../../, list1.txt list2.txt list3.txt) $(OUT_DIR)/base_unpacked $(OUT_DIR)/base_packed
	$(QEMU) $(QEMU_ARG) ./shuffled.out -d -k -c 1.bz2 > $(OUT_DIR)/shuffled_unpacked
	cmp $(OUT_DIR)/shuffled_unpacked $(OUT_DIR)/base_unpacked
	if [ $? -eq 0 ]
	then 
		echo 'Decompression failed' > /dev/stderr 
		exit(1)
	fi
	$(QEMU) $(QEMU_ARG) ./shuffled.out -z -k -c $(OUT_DIR)/shuffled_unpacked > $(OUT_DIR)/shuffled_packed
	cmp $(OUT_DIR)/shuffled_packed $(OUT_DIR)/base_packed
	if [ $? -eq 0 ]
	then 
		echo 'Compression failed' > /dev/stderr 
		exit(1)
	fi
	
shuffled.out: *.c *.h ../../plugin.so		
	$(ZCC) $(CCC_OPTS) $(SHUFFLE_OPTS) -lm *.c -o shuffled.out

base.out: *.c *.h
	$(ZCC) $(CCC_OPTS) -lm *.c -o base.out

$(OUT_DIR)/base_unpacked: base.out $(DATASET)
	$(QEMU) $(QEMU_ARG) ./base.out -d -k -c $(DATASET) > $(OUT_DIR)/base_unpacked

$(OUT_DIR)/base_packed: $(OUT_DIR)/base_unpacked 
	$(QEMU) $(QEMU_ARG) ./base.out -z -k -c $(OUT_DIR)/base_unpacked > $(OUT_DIR)/base_packed

clean:
	rm -f *.out *.o *.a *.s *.i *.I $(OUT_DIR)/*
